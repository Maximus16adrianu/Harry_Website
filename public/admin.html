<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>Demo Admin Panel</title>
  <link rel="stylesheet" href="admin.css">
</head>
<body>
  <header>
    <div class="header-content">
      <h1>🇩🇪 Demo Admin Panel</h1>
      <p>Verwaltung der Deutschen Demo-Plattform</p>
    </div>
  </header>

  <main>
    <!-- API Key Login Section -->
    <section id="loginSection" class="auth-section">
      <div class="login-card">
        <h2>🔐 Administrator Anmeldung</h2>
        <p>Bitte geben Sie Ihren Admin-API-Schlüssel ein:</p>
        <form id="loginForm">
          <div class="input-group">
            <input type="password" name="apiKey" placeholder="API-Schlüssel eingeben..." required>
            <button type="submit">Anmelden</button>
          </div>
        </form>
      </div>
    </section>

    <!-- Main Admin Panel -->
    <section id="adminPanel" class="hidden">
      <!-- Dashboard Cards -->
      <div class="dashboard-grid">
        <div class="dashboard-card">
          <h3>📋 Registrierungsanfragen</h3>
          <div class="card-content">
            <span class="count" id="requestCount">0</span>
            <span class="label">Offene Anfragen</span>
            <button onclick="openRequestsModal()" class="card-btn">Verwalten</button>
          </div>
        </div>

        <div class="dashboard-card">
          <h3>👥 Registrierte Nutzer</h3>
          <div class="card-content">
            <span class="count" id="userCount">0</span>
            <span class="label">Aktive Nutzer</span>
            <button onclick="openUsersModal()" class="card-btn">Verwalten</button>
          </div>
        </div>

        <div class="dashboard-card">
          <h3>🏛️ Organisatoren</h3>
          <div class="card-content">
            <span class="count" id="orgaCount">0</span>
            <span class="label">Orga-Konten</span>
            <button onclick="openOrgaModal()" class="card-btn">Verwalten</button>
          </div>
        </div>

        <div class="dashboard-card">
          <h3>💌 Newsletter</h3>
          <div class="card-content">
            <span class="count" id="newsletterCount">0</span>
            <span class="label">Abonnenten</span>
            <button onclick="loadNewsletter()" class="card-btn">Anzeigen</button>
          </div>
        </div>
      </div>

      <!-- Action Buttons -->
      <div class="action-grid">
        <button class="action-btn chat-control" id="chatLockBtn">
          💬 Chats entsperren
        </button>
        <button class="action-btn media" onclick="openMediaModal()">
          🎨 Medien verwalten
        </button>
        <button class="action-btn reports" onclick="loadReports()">
          🐛 Reports anzeigen
        </button>
        <button class="action-btn impressum" onclick="openImpressumModal()">
          📄 Impressum bearbeiten
        </button>
        <button class="action-btn export" onclick="exportAll()">
          📦 Alles exportieren
        </button>
      </div>
    </section>

    <!-- Requests Modal -->
    <div id="requestsModal" class="modal hidden">
      <div class="modal-content">
        <div class="modal-header">
          <h2>📋 Registrierungsanfragen verwalten</h2>
          <button class="modal-close" onclick="closeModal('requestsModal')">&times;</button>
        </div>
        <div class="modal-body">
          <div class="modal-actions">
            <button class="btn-success" id="acceptAllBtn">✓ Alle akzeptieren</button>
            <button class="btn-secondary" id="toggleRequestsBtn">Mehr anzeigen</button>
          </div>
          <div id="requestsList" class="list-container"></div>
        </div>
      </div>
    </div>

    <!-- Users Modal -->
    <div id="usersModal" class="modal hidden">
      <div class="modal-content">
        <div class="modal-header">
          <h2>👥 Nutzer verwalten</h2>
          <button class="modal-close" onclick="closeModal('usersModal')">&times;</button>
        </div>
        <div class="modal-body">
          <div class="filter-section">
            <input type="text" id="filterUsername" placeholder="Nach Namen filtern...">
            <select id="filterStatus">
              <option value="all">Alle Status</option>
              <option value="active">Aktiv</option>
              <option value="banned">Gesperrt</option>
            </select>
            <select id="filterRole">
              <option value="all">Alle Rollen</option>
              <option value="admin">Admin</option>
              <option value="user">Nutzer</option>
            </select>
            <button onclick="applyUserFilters()" class="btn-primary">Filter anwenden</button>
          </div>
          <div class="modal-actions">
            <button class="btn-secondary" id="toggleUsersBtn">Mehr anzeigen</button>
          </div>
          <div id="usersList" class="list-container"></div>
        </div>
      </div>
    </div>

    <!-- Orga Modal -->
    <div id="orgaModal" class="modal hidden">
      <div class="modal-content">
        <div class="modal-header">
          <h2>🏛️ Organisatoren verwalten</h2>
          <button class="modal-close" onclick="closeModal('orgaModal')">&times;</button>
        </div>
        <div class="modal-body">
          <form id="orgaForm" class="form-section">
            <h3>Neues Orga-Konto erstellen</h3>
            <div class="form-grid">
              <input type="text" id="orgaUsername" placeholder="Benutzername" required>
              <input type="password" id="orgaPassword" placeholder="Passwort" required>
              <select id="orgaBundesland" required>
                <option value="">Bundesland wählen</option>
                <option value="Baden-Württemberg">Baden-Württemberg</option>
                <option value="Bayern">Bayern</option>
                <option value="Berlin">Berlin</option>
                <option value="Brandenburg">Brandenburg</option>
                <option value="Bremen">Bremen</option>
                <option value="Hamburg">Hamburg</option>
                <option value="Hessen">Hessen</option>
                <option value="Mecklenburg-Vorpommern">Mecklenburg-Vorpommern</option>
                <option value="Niedersachsen">Niedersachsen</option>
                <option value="Nordrhein-Westfalen">Nordrhein-Westfalen</option>
                <option value="Rheinland-Pfalz">Rheinland-Pfalz</option>
                <option value="Saarland">Saarland</option>
                <option value="Sachsen">Sachsen</option>
                <option value="Sachsen-Anhalt">Sachsen-Anhalt</option>
                <option value="Schleswig-Holstein">Schleswig-Holstein</option>
                <option value="Thüringen">Thüringen</option>
              </select>
              <button type="submit" class="btn-success">Erstellen</button>
            </div>
          </form>
          <div id="orgaList" class="list-container"></div>
        </div>
      </div>
    </div>

    <!-- Media Modal - KOMPLETT NEU OHNE TEMPLATE STRINGS -->
    <div id="mediaModal" class="modal hidden">
      <div class="modal-content large">
        <div class="modal-header">
          <h2>🎨 Medien verwalten</h2>
          <button class="modal-close" onclick="closeModal('mediaModal')">&times;</button>
        </div>
        <div class="modal-body">
          <form id="mediaForm">
            <div class="media-grid">
              <!-- Video Section -->
              <div class="media-item">
                <h4>📹 Hauptvideo</h4>
                <video id="currentVideo" src="/api/media/video/video1.mp4" controls></video>
                <button type="button" onclick="selectFile('video')">Video ändern</button>
                <input type="file" id="video" name="video" accept="video/*" style="display: none;">
              </div>
              
              <!-- Images Section -->
              <div class="images-section">
                <h4>🖼️ Bilder (1-19)</h4>
                <div class="images-grid">
                  <div class="image-item">
                    <img id="currentImage1" src="/api/media/image/bild1.png" alt="Bild 1">
                    <button type="button" onclick="selectFile('image1')">Bild 1</button>
                    <input type="file" id="image1" name="image1" accept="image/*" style="display: none;">
                  </div>
                  <div class="image-item">
                    <img id="currentImage2" src="/api/media/image/bild2.png" alt="Bild 2">
                    <button type="button" onclick="selectFile('image2')">Bild 2</button>
                    <input type="file" id="image2" name="image2" accept="image/*" style="display: none;">
                  </div>
                  <div class="image-item">
                    <img id="currentImage3" src="/api/media/image/bild3.png" alt="Bild 3">
                    <button type="button" onclick="selectFile('image3')">Bild 3</button>
                    <input type="file" id="image3" name="image3" accept="image/*" style="display: none;">
                  </div>
                  <div class="image-item">
                    <img id="currentImage4" src="/api/media/image/bild4.png" alt="Bild 4">
                    <button type="button" onclick="selectFile('image4')">Bild 4</button>
                    <input type="file" id="image4" name="image4" accept="image/*" style="display: none;">
                  </div>
                  <div class="image-item">
                    <img id="currentImage5" src="/api/media/image/bild5.png" alt="Bild 5">
                    <button type="button" onclick="selectFile('image5')">Bild 5</button>
                    <input type="file" id="image5" name="image5" accept="image/*" style="display: none;">
                  </div>
                  <div class="image-item">
                    <img id="currentImage6" src="/api/media/image/bild6.png" alt="Bild 6">
                    <button type="button" onclick="selectFile('image6')">Bild 6</button>
                    <input type="file" id="image6" name="image6" accept="image/*" style="display: none;">
                  </div>
                  <div class="image-item">
                    <img id="currentImage7" src="/api/media/image/bild7.png" alt="Bild 7">
                    <button type="button" onclick="selectFile('image7')">Bild 7</button>
                    <input type="file" id="image7" name="image7" accept="image/*" style="display: none;">
                  </div>
                  <div class="image-item">
                    <img id="currentImage8" src="/api/media/image/bild8.png" alt="Bild 8">
                    <button type="button" onclick="selectFile('image8')">Bild 8</button>
                    <input type="file" id="image8" name="image8" accept="image/*" style="display: none;">
                  </div>
                  <div class="image-item">
                    <img id="currentImage9" src="/api/media/image/bild9.png" alt="Bild 9">
                    <button type="button" onclick="selectFile('image9')">Bild 9</button>
                    <input type="file" id="image9" name="image9" accept="image/*" style="display: none;">
                  </div>
                  <div class="image-item">
                    <img id="currentImage10" src="/api/media/image/bild10.png" alt="Bild 10">
                    <button type="button" onclick="selectFile('image10')">Bild 10</button>
                    <input type="file" id="image10" name="image10" accept="image/*" style="display: none;">
                  </div>
                  <div class="image-item">
                    <img id="currentImage11" src="/api/media/image/bild11.png" alt="Bild 11">
                    <button type="button" onclick="selectFile('image11')">Bild 11</button>
                    <input type="file" id="image11" name="image11" accept="image/*" style="display: none;">
                  </div>
                  <div class="image-item">
                    <img id="currentImage12" src="/api/media/image/bild12.png" alt="Bild 12">
                    <button type="button" onclick="selectFile('image12')">Bild 12</button>
                    <input type="file" id="image12" name="image12" accept="image/*" style="display: none;">
                  </div>
                  <div class="image-item">
                    <img id="currentImage13" src="/api/media/image/bild13.png" alt="Bild 13">
                    <button type="button" onclick="selectFile('image13')">Bild 13</button>
                    <input type="file" id="image13" name="image13" accept="image/*" style="display: none;">
                  </div>
                  <div class="image-item">
                    <img id="currentImage14" src="/api/media/image/bild14.png" alt="Bild 14">
                    <button type="button" onclick="selectFile('image14')">Bild 14</button>
                    <input type="file" id="image14" name="image14" accept="image/*" style="display: none;">
                  </div>
                  <div class="image-item">
                    <img id="currentImage15" src="/api/media/image/bild15.png" alt="Bild 15">
                    <button type="button" onclick="selectFile('image15')">Bild 15</button>
                    <input type="file" id="image15" name="image15" accept="image/*" style="display: none;">
                  </div>
                  <div class="image-item">
                    <img id="currentImage16" src="/api/media/image/bild16.png" alt="Bild 16">
                    <button type="button" onclick="selectFile('image16')">Bild 16</button>
                    <input type="file" id="image16" name="image16" accept="image/*" style="display: none;">
                  </div>
                  <div class="image-item">
                    <img id="currentImage17" src="/api/media/image/bild17.png" alt="Bild 17">
                    <button type="button" onclick="selectFile('image17')">Bild 17</button>
                    <input type="file" id="image17" name="image17" accept="image/*" style="display: none;">
                  </div>
                  <div class="image-item">
                    <img id="currentImage18" src="/api/media/image/bild18.png" alt="Bild 18">
                    <button type="button" onclick="selectFile('image18')">Bild 18</button>
                    <input type="file" id="image18" name="image18" accept="image/*" style="display: none;">
                  </div>
                  <div class="image-item">
                    <img id="currentImage19" src="/api/media/image/bild19.png" alt="Bild 19">
                    <button type="button" onclick="selectFile('image19')">Bild 19</button>
                    <input type="file" id="image19" name="image19" accept="image/*" style="display: none;">
                  </div>
                </div>
              </div>
            </div>
            <button type="submit" class="btn-success">Medien aktualisieren</button>
          </form>
        </div>
      </div>
    </div>

    <!-- Newsletter Modal -->
    <div id="newsletterModal" class="modal hidden">
      <div class="modal-content">
        <div class="modal-header">
          <h2>💌 Newsletter-Abonnenten</h2>
          <button class="modal-close" onclick="closeModal('newsletterModal')">&times;</button>
        </div>
        <div class="modal-body">
          <div class="modal-actions">
            <button onclick="exportNewsletter()" class="btn-primary">📥 Exportieren</button>
          </div>
          <div id="newsletterList" class="list-container"></div>
        </div>
      </div>
    </div>

    <!-- Reports Modal -->
    <div id="reportsModal" class="modal hidden">
      <div class="modal-content">
        <div class="modal-header">
          <h2>🐛 Bug Reports</h2>
          <button class="modal-close" onclick="closeModal('reportsModal')">&times;</button>
        </div>
        <div class="modal-body">
          <div id="reportsList" class="list-container"></div>
        </div>
      </div>
    </div>

    <!-- Impressum Modal -->
    <div id="impressumModal" class="modal hidden">
      <div class="modal-content">
        <div class="modal-header">
          <h2>📄 Impressum bearbeiten</h2>
          <button class="modal-close" onclick="closeModal('impressumModal')">&times;</button>
        </div>
        <div class="modal-body">
          <form id="impressumForm" class="form-section">
            <div class="form-grid">
              <input type="text" id="impVorname" name="Vorname" placeholder="Vorname" required>
              <input type="text" id="impNachname" name="Nachname" placeholder="Nachname" required>
              <input type="text" id="impAdresse" name="Adresse" placeholder="Straße & Hausnummer" required>
              <input type="text" id="impAdresszusatz" name="Adresszusatz" placeholder="Adresszusatz" required>
              <input type="text" id="impStadt" name="Stadt" placeholder="PLZ & Stadt" required>
              <input type="email" id="impEmail" name="Email" placeholder="E-Mail-Adresse" required>
            </div>
            <button type="submit" class="btn-success">Impressum speichern</button>
          </form>
        </div>
      </div>
    </div>

    <!-- Orga Edit Modal -->
    <div id="orgaEditModal" class="modal hidden">
      <div class="modal-content">
        <div class="modal-header">
          <h2>✏️ Orga-Konto bearbeiten</h2>
          <button class="modal-close" onclick="closeModal('orgaEditModal')">&times;</button>
        </div>
        <div class="modal-body">
          <form id="orgaEditForm" class="form-section">
            <input type="hidden" id="orgaEditUsername">
            <div class="form-grid">
              <input type="password" id="orgaEditPassword" placeholder="Neues Passwort">
              <select id="orgaEditBundesland">
                <option value="">Bundesland wählen</option>
                <option value="Baden-Württemberg">Baden-Württemberg</option>
                <option value="Bayern">Bayern</option>
                <option value="Berlin">Berlin</option>
                <option value="Brandenburg">Brandenburg</option>
                <option value="Bremen">Bremen</option>
                <option value="Hamburg">Hamburg</option>
                <option value="Hessen">Hessen</option>
                <option value="Mecklenburg-Vorpommern">Mecklenburg-Vorpommern</option>
                <option value="Niedersachsen">Niedersachsen</option>
                <option value="Nordrhein-Westfalen">Nordrhein-Westfalen</option>
                <option value="Rheinland-Pfalz">Rheinland-Pfalz</option>
                <option value="Saarland">Saarland</option>
                <option value="Sachsen">Sachsen</option>
                <option value="Sachsen-Anhalt">Sachsen-Anhalt</option>
                <option value="Schleswig-Holstein">Schleswig-Holstein</option>
                <option value="Thüringen">Thüringen</option>
              </select>
            </div>
            <button type="submit" class="btn-success">Änderungen speichern</button>
          </form>
        </div>
      </div>
    </div>
  </main>

  <script src="admin.js"></script>
</body>
</html>